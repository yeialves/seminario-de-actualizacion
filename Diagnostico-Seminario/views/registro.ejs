<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="main.js" defer></script>

    <title>Agenda</title>
</head>

<body>
    <div class="container">
        <!--Head-->
        <h2>Contact List</h2>
        
        <!--Data form-->
        <form id =  "form" action="/validate" method="post">
            <div class="form-data">
                <input type="text" id="Name" name="Name" class="Name" placeholder="Name">
                <input type="text" id="Surname" name="Surname" class="Surname" placeholder="Surname">
                <input type="text" id="Phone" name="Phone" class="Phone" placeholder="Phone">
                <input type="text" id="Address" name="Address" class="Address" placeholder="Address">
                <button id="add-people-Button" class="add-button" title="Add contact">
                    <img src="add-contact.png" alt="Add contact" type="submit">
                </button>
            </div>
        </form>

        <!--Tasks list-->
        <div class="tasks-list">
            <div class="tasks">
                <div class="column">
                    <h3>Name</h3>
                    <% data.forEach(function(item) { %>
                        <p><%= item.name %></p>
                        <h3>_________________________</h3>
                    <% }); %>
                </div>
                <div class="column">
                    <h3>Surname</h3>
                    <% data.forEach(function(item) { %>
                        <p><%= item.surname %></p>
                        <h3>_________________________</h3>
                    <% }); %>
                </div>
                <div class="column">
                    <h3>Phone</h3>
                    <% data.forEach(function(item) { %>
                        <p><%= item.phone %></p>
                        <h3>_________________________</h3>
                    <% }); %>
                </div>
                <div class="column">
                    <h3>Address</h3>
                    <% data.forEach(function(item) { %>
                        <p><%= item.address %></p>
                        <h3>_________________________</h3>
                    <% }); %>
                </div>
                 <!--Buttons-->
                <div class="column-button">
                    <h3>Delete</h3>
                    <% data.forEach(function(item) { %>
                        <form action="/delete/<%= item.id %>" method="post">
                            <button class="delete" title="Delete">
                                <img src="delete.png" alt="Delete">
                            </button>
                        </form>
                    <% }); %>
                </div>
                <div class="column-button">
                    <h3>Edit</h3>
                    <% data.forEach(function(item) { %>
                        <button class="show-edit-button" data-contact-id="<%= item.id %>" title="Edit">
                            <img src="edit.png" alt="Edit">
                        </button> 
                        <form action="/edit/<%= item.id %>" method="post" class="edit-form hide-form form-<%= item.id %>">
                            <input type="text" id="Name" name="Name" class="Name" placeholder="Name" value="<%= item.name %>">
                            <input type="text" id="Surname" name="Surname" class="Surname" placeholder="Surname" value="<%= item.surname %>">
                            <input type="text" id="Address" name="Address" class="Address" placeholder="Address" value="<%= item.address %>">
                            <button class="mode-button" data-contact-id="<%= item.id %>" type="submit">Send</button> 
                            <button class="close-edit-form" data-form-class="form-<%= item.id %>" title="Close">
                                <img src="close.png" alt="Close">
                            </button>                                                          
                        </form>
                    <% }); %>
                </div>                
                <div class="column-button">
                    <h3> Add Other Phone</h3>
                    <% data.forEach(function(item) { %>
                    <button class="show-form-button" data-contact-id="<%= item.id %>" title="Add Phone">
                        <img src="add.png" alt="Add">
                    </button>
                    <form class="add-phone-form hide-form add-phone-form-<%= item.id %>" action="/add-phone/<%= item.id %>" method="post">
                        <input type="text" id="phone" name="Phone" placeholder="Phone">
                        <button class="mode-button" data-contact-id="<%= item.id %>" type="submit">Send</button>
                        <button class="close-phone" data-form-class="add-phone-form-<%= item.id %>" title="Close">
                            <img src="close.png" alt="Close">
                        </button>                    
                    </form>
                    <% }); %>
                </div>                
                </div>
            </div>
            </div>
            </div>
        </div>
    </div>
    <script src="index.js"></script>
</body>

</html>
